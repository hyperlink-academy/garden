CreateFunction({
  "name": "get_identity_by_username",
  "role": "server",
  "body": Query(Lambda("args", Let([{
    "indexEntry": Match(Index("identities_by_username"), [Select("username", Var("args"))])
  }], If(Exists(Var("indexEntry")), Select("data", Get(Var("indexEntry"))), null))))
})